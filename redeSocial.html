<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rede Social - Banco Alimentar</title>
  <style>
    /* Layout r√°pido para a p√°gina simulada de rede social */
    body { font-family: Arial; background: #f6f7f9; margin:0; padding:20px;}
    .container { max-width: 700px; margin:0 auto;}
    .card { background:white; border-radius:12px; box-shadow:0 1px 3px rgba(0,0,0,0.1); padding:16px; margin-bottom:20px;}
    textarea, input { width:100%; padding:8px; margin-bottom:8px; border-radius:6px; border:1px solid #ccc;}
    button { padding:8px 12px; border:none; border-radius:6px; background:#007bff; color:white; cursor:pointer;}
    button:hover { background:#0056b3;}
    .post-header { display:flex; align-items:center; gap:10px; margin-bottom:10px;}
    .avatar { width:40px; height:40px; border-radius:50%; background:#ddd; display:flex; align-items:center; justify-content:center; font-weight:bold;}
    .post-image { width:100%; border-radius:8px; margin-top:10px;}
    .comment { border-top:1px solid #eee; padding-top:6px; margin-top:6px; font-size:14px;}
  </style>
</head>
<body>
<div class="container">
  <h2>Rede Social - Banco Alimentar</h2>

  <!-- √Årea onde o utilizador cria um novo post -->
  <div class="card">
    <textarea id="postText" placeholder="Partilha uma novidade..."></textarea>
    <input id="postImage" placeholder="URL de imagem (opcional)">
    <button onclick="createPost()">Publicar</button>
  </div>

  <!-- Feed din√¢mico preenchido por js -->
  <div id="feed"></div>
</div>

<script>
  const feedEl = document.getElementById('feed');
  let posts = [
    {
      id:'p1', author:'Banco Alimentar Lisboa', time:new Date().toLocaleString(),
      text:'Hoje recolhemos 500kg de alimentos! Obrigado a todos os volunt√°rios. #contraafome',
      image:'', likes:12, comments:[{author:'Maria', text:'Parab√©ns equipa!'}]
    },
    {
      id:'p2', author:'Banco Alimentar Porto', time:new Date().toLocaleString(),
      text:'Campanha de inverno come√ßa amanh√£ ‚Äî junta-te!',
      image:'https://images.unsplash.com/photo-1542831371-d531d36971e6?auto=format&fit=crop&w=800&q=60',
      likes:34, comments:[]
    }
  ];

  function renderFeed() {
    feedEl.innerHTML = '';
    posts.forEach(p => {
      const post = document.createElement('div');
      post.className = 'card';
      post.innerHTML = `
        <div class="post-header">
          <div class="avatar">${p.author[0]}</div>
          <div><strong>${p.author}</strong><br><span style="font-size:12px;color:gray;">${p.time}</span></div>
        </div>
        <p>${p.text}</p>
        ${p.image ? `<img src="${p.image}" class="post-image" alt="Imagem da publica√ß√£o">` : ''}
        <div style="margin-top:8px;">
          <button onclick="likePost('${p.id}')">‚ù§Ô∏è ${p.likes}</button>
          <button onclick="toggleComments('${p.id}')">üí¨ ${p.comments.length}</button>
        </div>
        <div id="comments-${p.id}" style="margin-top:8px;display:none;">
          ${p.comments.map(c=>`<div class='comment'><strong>${c.author}:</strong> ${c.text}</div>`).join('')}
          <input id="commentInput-${p.id}" placeholder="Escrever coment√°rio...">
          <button onclick="addComment('${p.id}')">Enviar</button>
        </div>
      `;
      feedEl.appendChild(post);
    });
  }

  function createPost() {
    const text = document.getElementById('postText').value.trim();
    const img = document.getElementById('postImage').value.trim();
    if(!text && !img) return;
    posts.unshift({id:'p'+Date.now(), author:'Tu', time:new Date().toLocaleString(), text, image:img, likes:0, comments:[]});
    document.getElementById('postText').value=''; document.getElementById('postImage').value='';
    renderFeed();
  }

  function likePost(id) {
    const post = posts.find(p=>p.id===id); if(post) post.likes++;
    renderFeed();
  }

  function addComment(id) {
    const input = document.getElementById(`commentInput-${id}`); const text = input.value.trim();
    if(!text) return;
    const post = posts.find(p=>p.id===id);
    post.comments.push({author:'Visitante', text});
    input.value='';
    renderFeed();
    document.getElementById(`comments-${id}`).style.display='block';
  }

  function toggleComments(id) {
    const el = document.getElementById(`comments-${id}`);
    el.style.display = el.style.display==='none'?'block':'none';
  }

  renderFeed();
</script>
<script>
        // dropdown toggle simples: abre/fecha ao clicar, fecha ao clicar fora
            document.addEventListener('click', function(e){
                const toggle = e.target.closest('.dropdown-toggle');
                if (toggle) {
                    const li = toggle.parentElement;
                    const opened = li.classList.toggle('open');
                    toggle.setAttribute('aria-expanded', opened ? 'true' : 'false');
                    // fecha outros abertos
                    document.querySelectorAll('.menu .dropdown.open').forEach(other => {
                        if (other !== li) {
                            other.classList.remove('open');
                            other.querySelector('.dropdown-toggle').setAttribute('aria-expanded','false');
                        }
                    });
                    return;
                }
                // se clicou fora, fecha todos
                if (!e.target.closest('.menu')) {
                    document.querySelectorAll('.menu .dropdown.open').forEach(item => {
                        item.classList.remove('open');
                        item.querySelector('.dropdown-toggle').setAttribute('aria-expanded','false');
                    });
                }
            });
        document.addEventListener('DOMContentLoaded', () => {
      if (window.headerPage) document.getElementById("header").innerHTML = headerPage;
      if (window.footerPage) document.getElementById("footer").innerHTML = footerPage;
    });
    </script>
</body>
</html>